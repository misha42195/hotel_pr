Задача: отправка токена в браузер(cookie)

В предыдущем блоке мы реализовали создание jwt-токена для пользователя
и возвращали в ответе. Но Для того что бы использовать токен, нам необходимо поместить его в cookie
Как это сделать?
Когда мы принимаем запрос, объект, который хранит данные о запросе называется Request
Объект, который хранит данные которые отправляем пользователю называется Response
Так вот, мы должны поместить в значение токена в объект ответа для этого при получении запроса 
в параметрах объявим response с типом Response встроенного класса fastapi



```python
from fastapi import Response

@router.post("/login", summary="Аутентификация пользователя")
async def login_user(
        data: UserRequestAdd,
        response: Response, # принимаем объект ответа с типом response
):
    async with async_session_maker() as session:
        user = await UserRepository(session).get_one_or_none(email=data.email)
        if not user:
            return HTTPException(
                status_code=401,
                detail="пользователь с таким email не зарегистрирован"
            )
        access_token = create_access_token({"user_id": user.id})
        response.set_cookie("access_token", access_token)
        return {"access_token": access_token}
```
при вызове функции данные запроса будут с типом UserRequestAdd и и объект response с типом Response
создадим асинхронный объект менеджер контекста с именем session 
попробуем получить объект пользователя по зачению поля email
если не получили объект, поднимаем ошибку класса HTTPException с выводом сообщения, что пользователь не зарегистрирован
создаем access_token вызвав функцию create_access_token передав словарь со значением пользователя с его id 
установим в объект ответа response вызвав метод set_cookie в качестве аргумента передадим access_token
response.set_cookie(access_token)
возвратим ответ со значением токена пользователя
response.set_cookie("access_token", access_token)