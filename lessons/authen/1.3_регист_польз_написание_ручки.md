from models.users import UsersOrm **Регистрация**
Создадим файл в директории api для регистрации пользователей api/auth.py

ручка для регистрации пользователей
```python
from fastapi import APIRouter
from schemas.users import UserRequestAdd, UserAdd
from src.repositories.users import UserRepository
from database import async_session_maker

router = APIRouter(prefix="/register")


@router.post
async def register(data: UserRequestAdd):
    hash_password = ";jasvblsjvhq3u9t034-9"
    # создаем экземпляр UserAdd, аргументами передаем поля для создания экземпляра 
    new_user_data = UserAdd(
        nickname=data.nickname,
        email=data.email,
        first_name=data.first_name,
        last_name=data.last_name,
        hashed_password=hash_password,
    )
    # создадим асинхронный контекстый объект сессии
    async with async_session_maker() as session:
        # создадим экземпляр UserRepository и вызовем метод add базового класса для добавления объекта в БД
        await UserRepository(session).add(data=new_user_data)
        await session.commit()  # сохраняем данные в БД
    return {"status": "ok"}
 
```

в файле src/schemas.py классы схемы для 
1) получения данных при запросе UserRequestAdd(стандартные поля для таблицы UserOrm объектов)
2) для добавления данных в БД UserAdd(хешированное значение для пароля перед записью в БД)
3) при получении объекта из БД класс User(преобразование через паттерн DataMapper)

в файле src.repositories.py 
```python
from src.repositories.base import BaseRepository
from src.models.users import UsersOrm
from src.schemas.users import User


class UserRepository(BaseRepository):
    model = UsersOrm
    schema = User
```


