Удобства привязаны к номерам через таблицу мани то мани

Как мы будем работать с объектами удобств? по сути 
они привязаны к конкретному номеру, через таблицу room_facilities.
Значит при добавлении номера, при изменении данных уже существующего номера мы 
должны манипулировать значениями объекта удобств

При работе с данными мы работаем внутри одной транзакции, то есть 
когда вносим изменения в разные таблицы данные должны сохранится только в том случае,
если никаких ошибок не произошло, и данные корректны, 
если произошла ошибка, то данные не сохраняются ни в одной из таблиц

Значит внутри одной ручки, а именно при добавлении 
номера должны сразу внести данные внутрь таблицы Room_facility
**данные для добавления в таблицу мани-то-мни, а именно id 

для получения списка id от фронта добавим в схему RoomRequestAdd поле, 
куда будут передаваться id
```python
class RoomRequestAdd(BaseModel):
    title: str
    description: str
    price: int
    quantity: int
    facilities_ids: list[int] | None = None # список идентификаторов удобств
```

Следующим шагом добавим репозиторий для работы с таблицей RoomsFacilities
```python
class DBManager:
    def __init__(self, session_factory):
        self.session_factory = session_factory
    
    
    async def __aenter__(self):
        self.session = self.session_factory()
    
        self.hotels = HotelsRepository(self.session)
        self.rooms = RoomsRepository(self.session)
        self.users = UsersRepository(self.session)
        self.bookings = BookingsRepository(self.session)
        self.facilities = FacilityRepository(self.session)
        self.rooms_fasilities = RoomsFasilitiesRepository(self.session) # атрибут для работы с many-to-many таблицей

```
создадим две схемы
1) для добавления в таблицу many-to-many
2) для получения объекта из БД
```python

class RoomFasilityAdd(BaseModel):
    room_id:int
    facility_id:int


class RoomFasility(RoomFasilityAdd):
    id:int
```
импортируем в менеджере репозиторий 

Следующим шагом добавим новый метод для добавления комнаты в которой 
будем связывать определенную комнату с переменным количеством удобств
```python

@router.post("/{hotel_id}/rooms/", summary="Создание номера")
async def create_room(
        hotel_id: int,
        db: DBDep,
        room_data: RoomRequestAdd = Body()
):
    _room_data = RoomAdd(hotel_id=hotel_id, **room_data.model_dump())
    room = await db.rooms.add(data=_room_data)

    rooms_facilities_data = [RoomFasilityAdd(room_id=room.id, facility_id=f_id) for f_id in room_data.facilities_ids]
    await db.rooms_fasilities.add_bulk(rooms_facilities_data)

    await db.commit()

    return {"status": "ok", "room": room}

```
room_data: RoomRequestAdd = Body() room_data теперь принимает еще и список id удобств
Так как в метод add_bulk мы передаем список из из объектов RoomAdd(room_id,facility)

rooms_facilities_data = [RoomFasilityAdd(room_id=room.id, facility_id=f_id) for f_id in room_data.facilities_ids]
rooms_facilities_data ссылается на список из объектов из пайдентик схем RoomAdd 
в качестве арументов передаем для room_id id берем из атрибута room.id, который возвращается при создании
объекта комнаты, для facility_ids значение берем из атрибута room_data.facility_ids
таким образом получаем объекты схемы, который передаем в метод add_bulk(rooms_facilities_data)
