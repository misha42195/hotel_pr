from schemas.bookings import Bookingfrom models.bookings import BookingsOrmfrom schemas.bookings import BookingAddfrom
schemas.bookings import BookingRequestAddНапомню, что это задание
предполагает создание новых:
роутера и ручки
pydantic схем
репозитория

1) Создадим файл api/bookings.py и напишем ручку для бронирования номеров

```python
from fastapi import APIRouter

router = APIRouter(prefix="/bookings", tags=["Бронирование номеров"])


@router.post("/")
async def create_booking(
        db: DBDep,
        user_id: UserIdDep,
        booking_data: BookingRequestAdd,
):
    # получим стомиость номера из объекта room по его id из запроса room_id
    room = db.rooms.get_one_or_none(id=booking_data.room_id)
    room_price = room.price
    # сформируем объект для добавления 
    _booking_data = BookingAdd(
        user_id=user_id,
        price=room_price,
        **booking_data.model_dump()
    )
    booking = await db.bookings.add(_booking_data)
    await db.commit()
    return {"status": "ok", "booking": booking}
```

необходимо реализовать схемы в файле src/schemas/bookings.py

```python

from pydantic import BaseModel


# класс для получения данных из запроса
class BookingRequestAdd(BaseModel):
    room_id: int
    date_from: date
    date_to: date


class BookingAdd(BaseModel):
    user_id: int
    room_id: int
    price: int
    date_from: date
    date_to: date


class Booking(BookingAdd):
    id: int
```

создадим BookingRepository для добавления бронирования

```python
from src.database import Base


class BookingRepository(Base):
    model = BookingsOrm
    schemas = Booking
```
